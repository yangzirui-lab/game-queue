var _t=Object.defineProperty,xt=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;var st=(H,b,w)=>b in H?_t(H,b,{enumerable:!0,configurable:!0,writable:!0,value:w}):H[b]=w,ae=(H,b)=>{for(var w in b||(b={}))gt.call(b,w)&&st(H,w,b[w]);if(tt)for(var w of tt(b))vt.call(b,w)&&st(H,w,b[w]);return H},ie=(H,b)=>xt(H,pt(b));import{j as e}from"./vendor-animation-BdtpEFhq.js";import{r as s,g as yt}from"./vendor-icons-BLMAXFSW.js";import{r as jt}from"./vendor-physics-B0PzhPIn.js";const bt="_overlay_1ot9p_1",wt="_gameContainer_1ot9p_15",Nt="_header_1ot9p_43",St="_closeBtn_1ot9p_65",kt="_scoreBoard_1ot9p_78",Bt="_score_1ot9p_78",Ct="_pauseBtn_1ot9p_124",It="_grid_1ot9p_149",Tt="_snakeSegment_1ot9p_159",$t="_head_1ot9p_43",Et="_food_1ot9p_172",Rt="_message_1ot9p_202",Pt="_restartBtn_1ot9p_221",Mt="_controls_1ot9p_242",Lt="_instructions_1ot9p_248",ee={overlay:bt,gameContainer:wt,header:Nt,closeBtn:St,scoreBoard:kt,score:Bt,pauseBtn:Ct,grid:It,snakeSegment:Tt,head:$t,food:Et,message:Rt,restartBtn:Pt,controls:Mt,instructions:Lt},Se=20,fe=20,At=150,Dt=({onClose:H})=>{const[b,w]=s.useState([{x:10,y:10}]),[x,N]=s.useState({x:15,y:15}),[S,L]=s.useState("RIGHT"),[F,P]=s.useState(!1),[R,A]=s.useState(0),[M,I]=s.useState(!1),[$,W]=s.useState(!1),T=s.useRef(S),D=s.useRef(void 0),O=s.useRef(null),k=s.useRef(null),d=s.useCallback(j=>{let v;do v={x:Math.floor(Math.random()*Se),y:Math.floor(Math.random()*Se)};while(j.some(o=>o.x===v.x&&o.y===v.y));return v},[]),i=s.useCallback(()=>{const j=[{x:10,y:10}];w(j),N(d(j)),L("RIGHT"),T.current="RIGHT",P(!1),A(0),I(!1),W(!0)},[d]);return s.useEffect(()=>{if(!$||F||M)return;const j=()=>{w(v=>{const o=v[0];let B;switch(T.current){case"UP":B={x:o.x,y:o.y-1};break;case"DOWN":B={x:o.x,y:o.y+1};break;case"LEFT":B={x:o.x-1,y:o.y};break;case"RIGHT":B={x:o.x+1,y:o.y};break}if(B.x<0||B.x>=Se||B.y<0||B.y>=Se||v.some(n=>n.x===B.x&&n.y===B.y))return P(!0),v;const r=[B,...v];return B.x===x.x&&B.y===x.y?(A(n=>n+10),N(d(r))):r.pop(),r})};return D.current=setInterval(j,At),()=>{D.current&&clearInterval(D.current)}},[$,F,M,x,d]),s.useEffect(()=>{const j=v=>{if(!$&&v.key===" "){v.preventDefault(),i();return}if(F)return;if(v.key===" "){v.preventDefault(),I(B=>!B);return}const o=v.key==="ArrowUp"&&T.current!=="DOWN"?"UP":v.key==="ArrowDown"&&T.current!=="UP"?"DOWN":v.key==="ArrowLeft"&&T.current!=="RIGHT"?"LEFT":v.key==="ArrowRight"&&T.current!=="LEFT"?"RIGHT":null;o&&(v.preventDefault(),T.current=o,L(o))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[$,F,i]),s.useEffect(()=>{const j=k.current;if(!j)return;const v=B=>{const r=B.touches[0];O.current={x:r.clientX,y:r.clientY},$||(B.preventDefault(),i())},o=B=>{if(!O.current||F)return;const r=B.changedTouches[0],n=r.clientX-O.current.x,f=r.clientY-O.current.y,l=30;if(Math.abs(n)>l||Math.abs(f)>l){let c=null;Math.abs(n)>Math.abs(f)?n>0&&T.current!=="LEFT"?c="RIGHT":n<0&&T.current!=="RIGHT"&&(c="LEFT"):f>0&&T.current!=="UP"?c="DOWN":f<0&&T.current!=="DOWN"&&(c="UP"),c&&(B.preventDefault(),T.current=c,L(c))}O.current=null};return j.addEventListener("touchstart",v,{passive:!1}),j.addEventListener("touchend",o,{passive:!1}),()=>{j.removeEventListener("touchstart",v),j.removeEventListener("touchend",o)}},[$,F,i]),e.jsx("div",{className:ee.overlay,children:e.jsxs("div",{className:ee.gameContainer,children:[e.jsxs("div",{className:ee.header,children:[e.jsx("h2",{children:"è´ªåƒè›‡"}),e.jsx("button",{onClick:H,className:ee.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:ee.scoreBoard,children:[e.jsxs("div",{className:ee.score,children:["å¾—åˆ†: ",R]}),$&&!F&&e.jsx("button",{onClick:()=>I(!M),className:ee.pauseBtn,children:M?"ç»§ç»­":"æš‚åœ"})]}),e.jsxs("div",{ref:k,className:ee.grid,style:{width:Se*fe,height:Se*fe},children:[b.map((j,v)=>e.jsx("div",{className:`${ee.snakeSegment} ${v===0?ee.head:""}`,style:{left:j.x*fe,top:j.y*fe,width:fe,height:fe}},v)),e.jsx("div",{className:ee.food,style:{left:x.x*fe,top:x.y*fe,width:fe,height:fe}}),!$&&e.jsx("div",{className:ee.overlay,children:e.jsxs("div",{className:ee.message,children:[e.jsx("h3",{children:"è´ªåƒè›‡"}),e.jsx("p",{children:"ä½¿ç”¨æ–¹å‘é”®æˆ–æ»‘åŠ¨å±å¹•æ§åˆ¶è›‡çš„ç§»åŠ¨"}),e.jsx("p",{children:"æŒ‰ç©ºæ ¼é”®æˆ–è§¦æ‘¸å±å¹•å¼€å§‹æ¸¸æˆ"})]})}),M&&e.jsx("div",{className:ee.overlay,children:e.jsxs("div",{className:ee.message,children:[e.jsx("h3",{children:"æ¸¸æˆæš‚åœ"}),e.jsx("p",{children:"æŒ‰ç©ºæ ¼é”®ç»§ç»­"})]})}),F&&e.jsx("div",{className:ee.overlay,children:e.jsxs("div",{className:ee.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("p",{children:["æœ€ç»ˆå¾—åˆ†: ",R]}),e.jsx("button",{onClick:i,className:ee.restartBtn,children:"é‡æ–°å¼€å§‹"})]})})]}),e.jsx("div",{className:ee.controls,children:e.jsxs("div",{className:ee.instructions,children:[e.jsx("p",{children:"ğŸ® æ–¹å‘é”®/æ»‘åŠ¨: æ§åˆ¶æ–¹å‘"}),e.jsx("p",{children:"â¸ï¸ ç©ºæ ¼é”®: æš‚åœ/ç»§ç»­"})]})})]})})},Ot="_overlay_k1yqn_1",Gt="_gameContainer_k1yqn_15",Ft="_header_k1yqn_43",Ht="_closeBtn_k1yqn_65",Wt="_scoreBoard_k1yqn_78",qt="_score_k1yqn_78",Xt="_restartBtn_k1yqn_125",zt="_board_k1yqn_152",Yt="_tile_k1yqn_181",Kt="_filled_k1yqn_194",Ut="_merged_k1yqn_197",Vt="_messageOverlay_k1yqn_239",Jt="_message_k1yqn_239",Zt="_continueBtn_k1yqn_267",Qt="_controls_k1yqn_282",es="_instructions_k1yqn_287",Z={overlay:Ot,gameContainer:Gt,header:Ft,closeBtn:Ht,scoreBoard:Wt,score:qt,restartBtn:Xt,board:zt,tile:Yt,filled:Kt,merged:Ut,messageOverlay:Vt,message:Jt,continueBtn:Zt,controls:Qt,instructions:es},te=4,ts=({onClose:H})=>{const[b,w]=s.useState(()=>O()),[x,N]=s.useState(0),[S,L]=s.useState(!1),[F,P]=s.useState(!1),[R,A]=s.useState(!1),[M,I]=s.useState(new Set),[$,W]=s.useState(new Set),T=s.useRef(null),D=s.useRef(null);function O(){const n=Array(te).fill(0).map(()=>Array(te).fill(0));return k(n),k(n),n}function k(n){const f=[];for(let l=0;l<te;l++)for(let c=0;c<te;c++)n[l][c]===0&&f.push([l,c]);if(f.length>0){const[l,c]=f[Math.floor(Math.random()*f.length)];return n[l][c]=Math.random()<.9?2:4,`${l}-${c}`}return null}function d(n,f){const l=n.map(a=>[...a]);let c=!1,g=0;const _=new Set,t=(a,p,u)=>{const m=a.filter(E=>E!==0);let h=0;const y=[];let C=0;for(let E=0;E<m.length;E++)E<m.length-1&&m[E]===m[E+1]?(y.push(m[E]*2),h+=m[E]*2,u?_.add(`${C}-${p}`):_.add(`${p}-${C}`),C++,E++):(y.push(m[E]),C++);for(;y.length<te;)y.push(0);return{row:y,score:h}};if(f==="LEFT")for(let a=0;a<te;a++){const{row:p,score:u}=t(l[a],a,!1);JSON.stringify(p)!==JSON.stringify(l[a])&&(c=!0),l[a]=p,g+=u}else if(f==="RIGHT")for(let a=0;a<te;a++){const p=[...l[a]].reverse(),{row:u,score:m}=t(p,a,!1),h=u.reverse();JSON.stringify(h)!==JSON.stringify(l[a])&&(c=!0);const y=new Set;_.forEach(C=>{const[E,ne]=C.split("-").map(Number);E===a?(y.add(`${E}-${te-1-ne}`),_.delete(C)):y.add(C)}),y.forEach(C=>_.add(C)),l[a]=h,g+=m}else if(f==="UP")for(let a=0;a<te;a++){const p=l.map(h=>h[a]),{row:u,score:m}=t(p,a,!0);JSON.stringify(u)!==JSON.stringify(p)&&(c=!0);for(let h=0;h<te;h++)l[h][a]=u[h];g+=m}else if(f==="DOWN")for(let a=0;a<te;a++){const p=l.map(C=>C[a]).reverse(),{row:u,score:m}=t(p,a,!0),h=u.reverse();JSON.stringify(h)!==JSON.stringify(l.map(C=>C[a]))&&(c=!0);const y=new Set;_.forEach(C=>{const[E,ne]=C.split("-").map(Number);ne===a?(y.add(`${te-1-E}-${ne}`),_.delete(C)):y.add(C)}),y.forEach(C=>_.add(C));for(let C=0;C<te;C++)l[C][a]=h[C];g+=m}return{newBoard:l,moved:c,scoreGained:g,mergedPositions:_}}function i(n){for(let f=0;f<te;f++)for(let l=0;l<te;l++)if(n[f][l]===0||l<te-1&&n[f][l]===n[f][l+1]||f<te-1&&n[f][l]===n[f+1][l])return!1;return!0}function j(n){for(let f=0;f<te;f++)for(let l=0;l<te;l++)if(n[f][l]===2048)return!0;return!1}const v=s.useCallback(n=>{if(S||!R)return;const{newBoard:f,moved:l,scoreGained:c,mergedPositions:g}=d(b,n);if(l){const _=k(f);w(f),N(t=>t+c),I(g),_&&W(new Set([_])),setTimeout(()=>{W(new Set)},200),setTimeout(()=>{I(new Set)},300),j(f)&&!F&&P(!0),i(f)&&L(!0)}},[b,S,R,F]),o=()=>{w(O()),N(0),L(!1),P(!1),A(!0),I(new Set),W(new Set)};s.useEffect(()=>{const n=f=>{if(!R&&f.key===" "){f.preventDefault(),A(!0);return}if(!S)switch(f.key){case"ArrowUp":f.preventDefault(),v("UP");break;case"ArrowDown":f.preventDefault(),v("DOWN");break;case"ArrowLeft":f.preventDefault(),v("LEFT");break;case"ArrowRight":f.preventDefault(),v("RIGHT");break}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[v,S,R]),s.useEffect(()=>{const n=D.current;if(!n)return;const f=c=>{const g=c.touches[0];T.current={x:g.clientX,y:g.clientY},R||(c.preventDefault(),A(!0))},l=c=>{if(!T.current||S)return;const g=c.changedTouches[0],_=g.clientX-T.current.x,t=g.clientY-T.current.y,a=30;(Math.abs(_)>a||Math.abs(t)>a)&&(Math.abs(_)>Math.abs(t)?_>0?v("RIGHT"):v("LEFT"):t>0?v("DOWN"):v("UP"),c.preventDefault()),T.current=null};return n.addEventListener("touchstart",f,{passive:!1}),n.addEventListener("touchend",l,{passive:!1}),()=>{n.removeEventListener("touchstart",f),n.removeEventListener("touchend",l)}},[v,S,R]);const B=n=>({2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#edc850",1024:"#edc53f",2048:"#edc22e"})[n]||"#cdc1b4",r=n=>n<=4?"#776e65":"#f9f6f2";return e.jsx("div",{className:Z.overlay,children:e.jsxs("div",{className:Z.gameContainer,children:[e.jsxs("div",{className:Z.header,children:[e.jsx("h2",{children:"2048"}),e.jsx("button",{onClick:H,className:Z.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:Z.scoreBoard,children:[e.jsxs("div",{className:Z.score,children:["å¾—åˆ†: ",x]}),e.jsx("button",{onClick:o,className:Z.restartBtn,children:"é‡æ–°å¼€å§‹"})]}),e.jsxs("div",{ref:D,className:Z.board,children:[b.map((n,f)=>n.map((l,c)=>{const g=`${f}-${c}`,_=M.has(g),t=$.has(g),a=[Z.tile,t&&Z.filled,_&&Z.merged].filter(Boolean).join(" "),p=u=>{if(u===0)return"2rem";const m=u.toString().length;return m<=3?"2rem":m===4?"1.75rem":m===5?"1.5rem":"1.25rem"};return e.jsx("div",{className:a,style:{backgroundColor:l!==0?B(l):"rgba(238, 228, 218, 0.35)",color:r(l),fontSize:p(l)},children:l!==0&&l},g)})),!R&&e.jsx("div",{className:Z.messageOverlay,children:e.jsxs("div",{className:Z.message,children:[e.jsx("h3",{children:"2048"}),e.jsx("p",{children:"ä½¿ç”¨æ–¹å‘é”®æˆ–æ»‘åŠ¨å±å¹•ç§»åŠ¨æ–¹å—"}),e.jsx("p",{children:"ç›¸åŒæ•°å­—çš„æ–¹å—ä¼šåˆå¹¶"}),e.jsx("p",{children:"æŒ‰ç©ºæ ¼é”®æˆ–è§¦æ‘¸å±å¹•å¼€å§‹æ¸¸æˆ"})]})}),F&&!S&&e.jsx("div",{className:Z.messageOverlay,children:e.jsxs("div",{className:Z.message,children:[e.jsx("h3",{children:"ä½ èµ¢äº†ï¼"}),e.jsx("p",{children:"è¾¾åˆ°äº† 2048ï¼"}),e.jsx("button",{onClick:()=>P(!1),className:Z.continueBtn,children:"ç»§ç»­æ¸¸æˆ"})]})}),S&&e.jsx("div",{className:Z.messageOverlay,children:e.jsxs("div",{className:Z.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("p",{children:["æœ€ç»ˆå¾—åˆ†: ",x]}),e.jsx("button",{onClick:o,className:Z.restartBtn,children:"é‡æ–°å¼€å§‹"})]})})]}),e.jsx("div",{className:Z.controls,children:e.jsxs("div",{className:Z.instructions,children:[e.jsx("p",{children:"ğŸ® æ–¹å‘é”®/æ»‘åŠ¨: ç§»åŠ¨æ–¹å—"}),e.jsx("p",{children:"â¸ï¸ ç©ºæ ¼é”®: å¼€å§‹æ¸¸æˆ"})]})})]})})},ss="_overlay_tefum_1",ns="_gameContainer_tefum_15",rs="_header_tefum_43",as="_closeBtn_tefum_65",os="_scoreBoard_tefum_79",cs="_score_tefum_79",ls="_restartBtn_tefum_127",is="_board_tefum_156",ds="_card_tefum_185",us="_matched_tefum_192",hs="_cardInner_tefum_209",ms="_flipped_tefum_216",fs="_cardFront_tefum_220",_s="_cardBack_tefum_221",xs="_messageOverlay_tefum_284",ps="_message_tefum_284",gs="_instructions_tefum_318",se={overlay:ss,gameContainer:ns,header:rs,closeBtn:as,scoreBoard:os,score:cs,restartBtn:ls,board:is,card:ds,matched:us,cardInner:hs,flipped:ms,cardFront:fs,cardBack:_s,messageOverlay:xs,message:ps,instructions:gs},Re=["ğŸ®","ğŸ¯","ğŸ²","ğŸ¸","ğŸ¨","ğŸ­","ğŸª","ğŸ¬"],vs=({onClose:H})=>{const[b,w]=s.useState([]),[x,N]=s.useState([]),[S,L]=s.useState(0),[F,P]=s.useState(0),[R,A]=s.useState(!1),[M,I]=s.useState(!0),$=s.useCallback(()=>{const T=[...Re,...Re].sort(()=>Math.random()-.5).map((D,O)=>({id:O,emoji:D,isFlipped:!1,isMatched:!1}));w(T),N([]),L(0),P(0),A(!1),I(!0)},[]);s.useEffect(()=>{$()},[$]),s.useEffect(()=>{F===Re.length&&A(!0)},[F]),s.useEffect(()=>{if(x.length===2){I(!1);const[T,D]=x,O=b[T],k=b[D];O.emoji===k.emoji?setTimeout(()=>{w(d=>d.map(i=>i.id===T||i.id===D?ie(ae({},i),{isMatched:!0}):i)),P(d=>d+1),N([]),I(!0)},600):setTimeout(()=>{w(d=>d.map(i=>i.id===T||i.id===D?ie(ae({},i),{isFlipped:!1}):i)),N([]),I(!0)},1e3)}},[x,b]);const W=T=>{if(!M||x.length>=2)return;const D=b[T];D.isFlipped||D.isMatched||(w(O=>O.map(k=>k.id===T?ie(ae({},k),{isFlipped:!0}):k)),N(O=>{const k=[...O,T];return k.length===2&&L(d=>d+1),k}))};return e.jsx("div",{className:se.overlay,children:e.jsxs("div",{className:se.gameContainer,children:[e.jsxs("div",{className:se.header,children:[e.jsx("h2",{children:"è®°å¿†ç¿»ç‰Œ"}),e.jsx("button",{onClick:H,className:se.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:se.scoreBoard,children:[e.jsxs("div",{className:se.score,children:["æ­¥æ•°: ",S]}),e.jsxs("div",{className:se.score,children:["é…å¯¹: ",F,"/",Re.length]}),e.jsx("button",{onClick:$,className:se.restartBtn,children:"é‡æ–°å¼€å§‹"})]}),e.jsx("div",{className:se.board,children:b.map(T=>e.jsx("div",{className:`${se.card} ${T.isFlipped||T.isMatched?se.flipped:""} ${T.isMatched?se.matched:""}`,onClick:()=>W(T.id),children:e.jsxs("div",{className:se.cardInner,children:[e.jsx("div",{className:se.cardFront,children:"?"}),e.jsx("div",{className:se.cardBack,children:T.emoji})]})},T.id))}),R&&e.jsx("div",{className:se.messageOverlay,children:e.jsxs("div",{className:se.message,children:[e.jsx("h3",{children:"æ­å–œé€šå…³ï¼"}),e.jsxs("p",{children:["æ€»æ­¥æ•°: ",S]}),e.jsxs("p",{children:["å®Œç¾é…å¯¹éœ€è¦: ",Re.length," æ­¥"]}),e.jsx("button",{onClick:$,className:se.restartBtn,children:"å†ç©ä¸€æ¬¡"})]})}),e.jsxs("div",{className:se.instructions,children:[e.jsx("p",{children:"ğŸ¯ ç‚¹å‡»ç¿»ç‰Œï¼Œæ‰¾å‡ºæ‰€æœ‰é…å¯¹"}),e.jsx("p",{children:"ğŸ’¡ è®°ä½å¡ç‰‡ä½ç½®ï¼Œç”¨æœ€å°‘æ­¥æ•°å®Œæˆ"})]})]})})},ys="_overlay_19613_1",js="_gameContainer_19613_15",bs="_header_19613_43",ws="_closeBtn_19613_55",Ns="_statsBar_19613_69",Ss="_stat_19613_69",ks="_towerSelection_19613_116",Bs="_towerBtn_19613_123",Cs="_disabled_19613_136",Is="_selected_19613_140",Ts="_towerEmoji_19613_161",$s="_towerName_19613_165",Es="_towerCost_19613_170",Rs="_gameBoard_19613_175",Ps="_grid_19613_185",Ms="_cell_19613_192",Ls="_empty_19613_199",As="_path_19613_206",Ds="_start_19613_209",Os="_end_19613_212",Gs="_tower_19613_116",Fs="_canBuild_19613_218",Hs="_towerAppear_19613_1",Ws="_enemy_19613_248",qs="_enemyEmoji_19613_260",Xs="_healthBar_19613_265",zs="_healthFill_19613_274",Ys="_controls_19613_279",Ks="_waveBtn_19613_287",Us="_spawning_19613_304",Vs="_pulse_19613_1",Js="_messageOverlay_19613_319",Zs="_message_19613_319",Qs="_congrats_19613_349",en="_btn_19613_355",q={overlay:ys,gameContainer:js,header:bs,closeBtn:ws,statsBar:Ns,stat:Ss,towerSelection:ks,towerBtn:Bs,disabled:Cs,selected:Is,towerEmoji:Ts,towerName:$s,towerCost:Es,gameBoard:Rs,grid:Ps,cell:Ms,empty:Ls,path:As,start:Ds,end:Os,tower:Gs,canBuild:Fs,towerAppear:Hs,enemy:Ws,enemyEmoji:qs,healthBar:Xs,healthFill:zs,controls:Ys,waveBtn:Ks,spawning:Us,pulse:Vs,messageOverlay:Js,message:Zs,congrats:Qs,btn:en},nt=20,rt=12,ye=40,at=200,ot=20,Ge={basic:{name:"åŸºç¡€å¡”",damage:10,range:2.5,fireRate:500,cost:100,emoji:"ğŸ—¼",color:"#3b82f6"},sniper:{name:"ç‹™å‡»å¡”",damage:50,range:5,fireRate:1500,cost:200,emoji:"ğŸ¯",color:"#ef4444"}},ct={basic:{hp:50,speed:.02,reward:10,emoji:"ğŸ‘¾",color:"#22c55e"},fast:{hp:30,speed:.04,reward:15,emoji:"âš¡",color:"#eab308"},tank:{hp:150,speed:.015,reward:30,emoji:"ğŸ›¡ï¸",color:"#ef4444"}};function ze(H){const b=[];for(let w=0;w<H.length;w++){const x=H[w];if(b.push(ae({},x)),w<H.length-1){const N=H[w+1];if(x.x===N.x){const S=x.y<N.y?1:-1;for(let L=x.y+S;L!==N.y;L+=S)b.push({x:x.x,y:L})}else if(x.y===N.y){const S=x.x<N.x?1:-1;for(let L=x.x+S;L!==N.x;L+=S)b.push({x:L,y:x.y})}}}return b}const Ye=[{id:1,name:"ç¬¬ä¸€å…³ï¼šå…¥é—¨",path:ze([{x:0,y:6},{x:5,y:6},{x:5,y:3},{x:12,y:3},{x:12,y:9},{x:19,y:9}]),waves:[[{type:"basic",count:5,interval:1e3}],[{type:"basic",count:8,interval:800}],[{type:"fast",count:6,interval:800}]]},{id:2,name:"ç¬¬äºŒå…³ï¼šåŠ é€Ÿ",path:ze([{x:0,y:3},{x:8,y:3},{x:8,y:8},{x:15,y:8},{x:15,y:2},{x:19,y:2}]),waves:[[{type:"basic",count:10,interval:700}],[{type:"fast",count:8,interval:600}],[{type:"basic",count:5,interval:500},{type:"fast",count:5,interval:500}],[{type:"tank",count:3,interval:1500}]]},{id:3,name:"ç¬¬ä¸‰å…³ï¼šæ··æˆ˜",path:ze([{x:19,y:6},{x:12,y:6},{x:12,y:2},{x:5,y:2},{x:5,y:10},{x:0,y:10}]),waves:[[{type:"basic",count:15,interval:500}],[{type:"fast",count:12,interval:400}],[{type:"tank",count:5,interval:1200}],[{type:"basic",count:10,interval:400},{type:"fast",count:10,interval:400}],[{type:"tank",count:8,interval:1e3}]]}],tn=({onClose:H})=>{const[b,w]=s.useState(0),[x,N]=s.useState(at),[S,L]=s.useState(ot),[F,P]=s.useState([]),[R,A]=s.useState([]),[M,I]=s.useState(null),[$,W]=s.useState(0),[T,D]=s.useState(!1),[O,k]=s.useState("playing"),[d,i]=s.useState(null),j=s.useRef(0),v=s.useRef(0),o=s.useRef(void 0),B=s.useRef(Date.now()),r=Ye[b],n=s.useCallback((t,a)=>{if(!(r!=null&&r.path))return"empty";const p=r.path[0].x===t&&r.path[0].y===a,u=r.path[r.path.length-1].x===t&&r.path[r.path.length-1].y===a,m=r.path.some(y=>y.x===t&&y.y===a);return R.some(y=>y.position.x===t&&y.position.y===a)?"tower":p?"start":u?"end":m?"path":"empty"},[r,R]),f=s.useCallback(()=>{if(!r||$>=r.waves.length)return;D(!0);const t=r.waves[$];let a=0;const p=t.reduce((u,m)=>u+m.count,0);t.forEach(u=>{const m=ct[u.type];let h=0;const y=setInterval(()=>{if(h<u.count){const C={id:j.current++,type:u.type,hp:m.hp,maxHp:m.hp,position:ae({},r.path[0]),pathIndex:0,speed:m.speed,reward:m.reward};P(E=>[...E,C]),h++,a++,a>=p&&D(!1)}else clearInterval(y)},u.interval)}),W(u=>u+1)},[r,$]),l=s.useCallback((t,a)=>{if(!M||n(t,a)!=="empty")return;const p=Ge[M];if(x<p.cost)return;const u={id:v.current++,type:M,position:{x:t,y:a},damage:p.damage,range:p.range,fireRate:p.fireRate,lastFire:0,cost:p.cost};A(m=>[...m,u]),N(m=>m-p.cost),I(null)},[M,x,n]);s.useEffect(()=>{if(O!=="playing"||!r)return;const t=()=>{const a=Date.now(),p=a-B.current;B.current=a,P(u=>{const m=u.map(y=>{if(y.pathIndex>=r.path.length-1)return y;const C=r.path[y.pathIndex],E=r.path[y.pathIndex+1],ne=E.x-C.x,me=E.y-C.y,U=Math.sqrt(ne*ne+me*me),xe=y.speed*p/U;let Oe=y.position.x+ne*xe,Xe=y.position.y+me*xe,et=y.pathIndex;return Math.sqrt(Math.pow(Oe-E.x,2)+Math.pow(Xe-E.y,2))<.1&&(Oe=E.x,Xe=E.y,et++),ie(ae({},y),{position:{x:Oe,y:Xe},pathIndex:et})}),h=m.filter(y=>y.pathIndex>=r.path.length-1&&Math.abs(y.position.x-r.path[r.path.length-1].x)<.1&&Math.abs(y.position.y-r.path[r.path.length-1].y)<.1);return h.length>0&&L(y=>Math.max(0,y-h.length)),m.filter(y=>!(y.pathIndex>=r.path.length-1&&Math.abs(y.position.x-r.path[r.path.length-1].x)<.1&&Math.abs(y.position.y-r.path[r.path.length-1].y)<.1))}),A(u=>u.map(h=>a-h.lastFire<h.fireRate?h:(P(y=>{const C=y.filter(U=>{const ve=U.position.x-h.position.x,xe=U.position.y-h.position.y;return Math.sqrt(ve*ve+xe*xe)<=h.range});if(C.length===0)return y;const E=C[0],ne=y.map(U=>U.id===E.id?ie(ae({},U),{hp:U.hp-h.damage}):U),me=ne.filter(U=>U.hp<=0);return me.length>0&&N(U=>U+me.reduce((ve,xe)=>ve+xe.reward,0)),ne.filter(U=>U.hp>0)}),ie(ae({},h),{lastFire:a})))),o.current=requestAnimationFrame(t)};return o.current=requestAnimationFrame(t),()=>{o.current&&cancelAnimationFrame(o.current)}},[O,r]),s.useEffect(()=>{r&&(S<=0?k("lost"):$>=r.waves.length&&F.length===0&&!T&&k("won"))},[S,$,F.length,T,r]);const c=()=>{b<Ye.length-1&&(w(t=>t+1),g())},g=()=>{N(at),L(ot),P([]),A([]),W(0),k("playing"),I(null),j.current=0,v.current=0},_=()=>{const t=[];for(let a=0;a<rt;a++)for(let p=0;p<nt;p++){const u=n(p,a),m=(d==null?void 0:d.x)===p&&(d==null?void 0:d.y)===a,h=M&&u==="empty"&&x>=Ge[M].cost;t.push(e.jsx("div",{className:`${q.cell} ${q[u]} ${m&&h?q.canBuild:""}`,style:{left:p*ye,top:a*ye},onClick:()=>l(p,a),onMouseEnter:()=>i({x:p,y:a}),onMouseLeave:()=>i(null)},`${p}-${a}`))}return t};return r?e.jsx("div",{className:q.overlay,children:e.jsxs("div",{className:q.gameContainer,children:[e.jsxs("div",{className:q.header,children:[e.jsxs("h2",{children:["å¡”é˜²ï¼š",r.name]}),e.jsx("button",{onClick:H,className:q.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:q.statsBar,children:[e.jsxs("div",{className:q.stat,children:["ğŸ’° ",x]}),e.jsxs("div",{className:q.stat,children:["â¤ï¸ ",S]}),e.jsxs("div",{className:q.stat,children:["æ³¢æ¬¡: ",$,"/",r.waves.length]})]}),e.jsx("div",{className:q.towerSelection,children:Object.entries(Ge).map(([t,a])=>e.jsxs("button",{className:`${q.towerBtn} ${M===t?q.selected:""} ${x<a.cost?q.disabled:""}`,onClick:()=>I(t),disabled:x<a.cost,children:[e.jsx("span",{className:q.towerEmoji,children:a.emoji}),e.jsx("span",{className:q.towerName,children:a.name}),e.jsxs("span",{className:q.towerCost,children:[a.cost,"ğŸ’°"]})]},t))}),e.jsx("div",{className:q.gameBoard,children:e.jsxs("div",{className:q.grid,style:{width:nt*ye,height:rt*ye},children:[_(),R.map(t=>{const a=Ge[t.type];return e.jsx("div",{className:q.tower,style:{left:t.position.x*ye,top:t.position.y*ye},children:a.emoji},t.id)}),F.map(t=>{const a=ct[t.type];return e.jsxs("div",{className:q.enemy,style:{left:t.position.x*ye,top:t.position.y*ye},children:[e.jsx("div",{className:q.enemyEmoji,children:a.emoji}),e.jsx("div",{className:q.healthBar,children:e.jsx("div",{className:q.healthFill,style:{width:`${t.hp/t.maxHp*100}%`,backgroundColor:a.color}})})]},t.id)})]})}),e.jsxs("div",{className:q.controls,children:[$<r.waves.length&&!T&&e.jsxs("button",{onClick:f,className:q.waveBtn,children:["å¼€å§‹ç¬¬ ",$+1," æ³¢"]}),T&&e.jsx("div",{className:q.spawning,children:"æ•Œäººæ¥è¢­..."})]}),O==="won"&&e.jsx("div",{className:q.messageOverlay,children:e.jsxs("div",{className:q.message,children:[e.jsx("h3",{children:"å…³å¡å®Œæˆï¼"}),e.jsxs("p",{children:["å‰©ä½™ç”Ÿå‘½: ",S]}),e.jsxs("p",{children:["å‰©ä½™é‡‘å¸: ",x]}),b<Ye.length-1?e.jsx("button",{onClick:c,className:q.btn,children:"ä¸‹ä¸€å…³"}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:q.congrats,children:"ğŸ‰ æ­å–œé€šå…³æ‰€æœ‰å…³å¡ï¼"}),e.jsx("button",{onClick:()=>{w(0),g()},className:q.btn,children:"é‡æ–°æŒ‘æˆ˜"})]})]})}),O==="lost"&&e.jsx("div",{className:q.messageOverlay,children:e.jsxs("div",{className:q.message,children:[e.jsx("h3",{children:"æ¸¸æˆå¤±è´¥"}),e.jsx("p",{children:"é˜²çº¿è¢«æ”»ç ´äº†"}),e.jsx("button",{onClick:g,className:q.btn,children:"é‡è¯•"})]})})]})}):null},sn="_overlay_nvvh2_1",nn="_gameContainer_nvvh2_15",rn="_header_nvvh2_42",an="_closeBtn_nvvh2_55",on="_statsBar_nvvh2_68",cn="_stat_nvvh2_68",ln="_gameBoard_nvvh2_92",dn="_canvas_nvvh2_99",un="_messageOverlay_nvvh2_106",hn="_message_nvvh2_106",mn="_hint_nvvh2_135",fn="_congrats_nvvh2_139",_n="_btn_nvvh2_145",xn="_instructions_nvvh2_162",K={overlay:sn,gameContainer:nn,header:rn,closeBtn:an,statsBar:on,stat:cn,gameBoard:ln,canvas:dn,messageOverlay:un,message:hn,hint:mn,congrats:fn,btn:_n,instructions:xn},he=600,je=500,le=100,Pe=12,oe=7,pn=6,Qe=10,qe=4,Me=(he-qe*(Qe+1))/Qe,Le=18,gn=50,vn=qe,Fe=[{name:"ç¬¬ä¸€å…³ï¼šå…¥é—¨",brickPattern:[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2],[3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3]],ballSpeed:3},{name:"ç¬¬äºŒå…³ï¼šè¿›é˜¶",brickPattern:[[3,3,3,3,3,3,3,3,3,3],[2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2],[3,3,3,3,3,3,3,3,3,3]],ballSpeed:4},{name:"ç¬¬ä¸‰å…³ï¼šæŒ‘æˆ˜",brickPattern:[[3,0,3,0,3,3,0,3,0,3],[2,2,2,2,2,2,2,2,2,2],[1,0,1,0,1,1,0,1,0,1],[1,0,1,0,1,1,0,1,0,1],[2,2,2,2,2,2,2,2,2,2],[3,0,3,0,3,3,0,3,0,3]],ballSpeed:5}],lt={1:{color:"#22c55e",score:10},2:{color:"#f59e0b",score:20},3:{color:"#ef4444",score:30}},yn=({onClose:H})=>{const b=s.useRef(null),[w,x]=s.useState(0),[N,S]=s.useState(0),[L,F]=s.useState(3),[P,R]=s.useState("ready"),[A,M]=s.useState([]),I=s.useRef((he-le)/2),$=s.useRef({x:he/2,y:je-Pe-oe-10,dx:0,dy:0}),W=s.useRef(void 0),T=s.useRef(!1),D=s.useRef(!1),O=Fe[w],k=s.useCallback(()=>{const l=[],c=O.brickPattern;for(let g=0;g<pn;g++)for(let _=0;_<Qe;_++){const t=c[g][_];if(t>0){const a={x:vn+_*(Me+qe),y:gn+g*(Le+qe),status:1,color:lt[t].color,score:lt[t].score};l.push(a)}}M(l)},[O]),d=s.useCallback(()=>{I.current=(he-le)/2,$.current={x:he/2,y:je-Pe-oe-10,dx:0,dy:0}},[]),i=s.useCallback(()=>{const l=(Math.random()*60-30)*(Math.PI/180);$.current.dx=O.ballSpeed*Math.sin(l),$.current.dy=-O.ballSpeed*Math.cos(l),R("playing")},[O]);s.useEffect(()=>{k(),d()},[w,k,d]);const j=s.useCallback(()=>{const l=$.current;let c=-1,g=!1;for(let _=0;_<A.length;_++){const t=A[_];if(t.status!==0&&l.x+oe>t.x&&l.x-oe<t.x+Me&&l.y+oe>t.y&&l.y-oe<t.y+Le){const a=l.x,p=l.y,u=t.x+Me/2,m=t.y+Le/2,h=Math.abs(a-u),y=Math.abs(p-m);g=h/Me>y/Le,c=_;break}}if(c>=0){const _=A[c];g?l.dx=-l.dx:l.dy=-l.dy,M(t=>{const a=t.map((u,m)=>m===c?ie(ae({},u),{status:0}):u);return a.every(u=>u.status===0)&&setTimeout(()=>R("won"),100),a}),S(t=>t+_.score)}},[A]),v=s.useCallback(()=>{const l=b.current;if(!l)return;const c=l.getContext("2d");c&&(c.clearRect(0,0,he,je),A.forEach(g=>{g.status===1&&(c.fillStyle=g.color,c.fillRect(g.x,g.y,Me,Le))}),c.fillStyle="#ffffff",c.fillRect(I.current,je-Pe,le,Pe),c.beginPath(),c.arc($.current.x,$.current.y,oe,0,Math.PI*2),c.fillStyle="#ffffff",c.fill(),c.closePath())},[A]);s.useEffect(()=>{if(P!=="playing"){v();return}const l=()=>{const c=$.current;if(T.current&&I.current<he-le&&(I.current+=7),D.current&&I.current>0&&(I.current-=7),(c.x+c.dx>he-oe||c.x+c.dx<oe)&&(c.dx=-c.dx),c.y+c.dy<oe&&(c.dy=-c.dy),c.x+=c.dx,c.y+=c.dy,c.y+oe>=je-Pe&&c.y+oe<=je&&c.x>=I.current&&c.x<=I.current+le&&c.dy>0){const _=((c.x-I.current)/le-.5)*120*(Math.PI/180),t=Math.sqrt(c.dx*c.dx+c.dy*c.dy);c.dx=t*Math.sin(_),c.dy=-Math.abs(t*Math.cos(_))}if(c.y>je+oe){F(g=>{const _=g-1;return _<=0?R("lost"):(R("ready"),d()),_});return}j(),v(),W.current=requestAnimationFrame(l)};return W.current=requestAnimationFrame(l),()=>{W.current&&cancelAnimationFrame(W.current)}},[P,v,j,d]),s.useEffect(()=>{const l=g=>{g.key==="ArrowRight"||g.key==="d"||g.key==="D"?T.current=!0:g.key==="ArrowLeft"||g.key==="a"||g.key==="A"?D.current=!0:g.key===" "&&P==="ready"?(g.preventDefault(),i()):(g.key==="p"||g.key==="P")&&(P==="playing"?R("paused"):P==="paused"&&R("playing"))},c=g=>{g.key==="ArrowRight"||g.key==="d"||g.key==="D"?T.current=!1:(g.key==="ArrowLeft"||g.key==="a"||g.key==="A")&&(D.current=!1)};return window.addEventListener("keydown",l),window.addEventListener("keyup",c),()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",c)}},[P,i]);const o=l=>{const c=b.current;if(!c)return;const g=c.getBoundingClientRect(),_=l.clientX-g.left;_>le/2&&_<he-le/2&&(I.current=_-le/2)},B=l=>{l.preventDefault();const c=b.current;if(!c)return;const g=c.getBoundingClientRect(),t=l.touches[0].clientX-g.left;t>le/2&&t<he-le/2&&(I.current=t-le/2)},r=l=>{P==="ready"&&(l.preventDefault(),i())},n=()=>{w<Fe.length-1&&(x(l=>l+1),R("ready"))},f=()=>{S(0),F(3),x(0),R("ready"),d(),k()};return e.jsx("div",{className:K.overlay,children:e.jsxs("div",{className:K.gameContainer,children:[e.jsxs("div",{className:K.header,children:[e.jsxs("h2",{children:["æ‰“ç –å—ï¼š",O.name]}),e.jsx("button",{onClick:H,className:K.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:K.statsBar,children:[e.jsxs("div",{className:K.stat,children:["å¾—åˆ†: ",N]}),e.jsxs("div",{className:K.stat,children:["ç”Ÿå‘½: ",L]}),e.jsxs("div",{className:K.stat,children:["å…³å¡: ",w+1,"/",Fe.length]})]}),e.jsxs("div",{className:K.gameBoard,children:[e.jsx("canvas",{ref:b,width:he,height:je,className:K.canvas,onMouseMove:o,onTouchMove:B,onTouchStart:r}),P==="ready"&&e.jsx("div",{className:K.messageOverlay,children:e.jsxs("div",{className:K.message,children:[e.jsx("h3",{children:"å‡†å¤‡å¼€å§‹"}),e.jsx("p",{children:"æŒ‰ç©ºæ ¼é”®æˆ–è§¦æ‘¸å±å¹•å¼€å§‹"}),e.jsx("p",{className:K.hint,children:"æ–¹å‘é”®/é¼ æ ‡/è§¦æ‘¸ç§»åŠ¨æŒ¡æ¿"}),e.jsx("p",{className:K.hint,children:"P æš‚åœæ¸¸æˆ"})]})}),P==="paused"&&e.jsx("div",{className:K.messageOverlay,children:e.jsxs("div",{className:K.message,children:[e.jsx("h3",{children:"æ¸¸æˆæš‚åœ"}),e.jsx("p",{children:"æŒ‰ P é”®ç»§ç»­"})]})}),P==="won"&&e.jsx("div",{className:K.messageOverlay,children:e.jsxs("div",{className:K.message,children:[e.jsx("h3",{children:"å…³å¡å®Œæˆï¼"}),e.jsxs("p",{children:["å¾—åˆ†: ",N]}),w<Fe.length-1?e.jsx("button",{onClick:n,className:K.btn,children:"ä¸‹ä¸€å…³"}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:K.congrats,children:"æ­å–œé€šå…³æ‰€æœ‰å…³å¡"}),e.jsx("button",{onClick:f,className:K.btn,children:"é‡æ–°æŒ‘æˆ˜"})]})]})}),P==="lost"&&e.jsx("div",{className:K.messageOverlay,children:e.jsxs("div",{className:K.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("p",{children:["æœ€ç»ˆå¾—åˆ†: ",N]}),e.jsx("button",{onClick:f,className:K.btn,children:"é‡æ–°å¼€å§‹"})]})})]}),e.jsxs("div",{className:K.instructions,children:[e.jsx("p",{children:"ä½¿ç”¨æ–¹å‘é”®/é¼ æ ‡/è§¦æ‘¸ç§»åŠ¨æŒ¡æ¿"}),e.jsx("p",{children:"æ‰“ç¢æ‰€æœ‰ç –å—é€šå…³"}),e.jsx("p",{children:"P é”®æš‚åœæ¸¸æˆ"})]})]})})},jn="_overlay_19jrr_1",bn="_gameContainer_19jrr_15",wn="_header_19jrr_42",Nn="_closeBtn_19jrr_55",Sn="_statsBar_19jrr_68",kn="_stat_19jrr_68",Bn="_gameBoard_19jrr_92",Cn="_canvas_19jrr_99",In="_messageOverlay_19jrr_106",Tn="_message_19jrr_106",$n="_hintBox_19jrr_135",En="_hint_19jrr_135",Rn="_scoreBox_19jrr_149",Pn="_finalScore_19jrr_156",Mn="_bestScoreText_19jrr_164",Ln="_congrats_19jrr_172",An="_btn_19jrr_179",Dn="_instructions_19jrr_196",V={overlay:jn,gameContainer:bn,header:wn,closeBtn:Nn,statsBar:Sn,stat:kn,gameBoard:Bn,canvas:Cn,messageOverlay:In,message:Tn,hintBox:$n,hint:En,scoreBox:Rn,finalScore:Pn,bestScoreText:Mn,congrats:Ln,btn:An,instructions:Dn},ke=400,pe=600,ce=34,He=80,On=.12,it=-4.2,we=70,Ne=210,Gn=1.3,Fn=({onClose:H})=>{const b=s.useRef(null),[w,x]=s.useState("ready"),[N,S]=s.useState(0),[L,F]=s.useState(()=>{const i=localStorage.getItem("flappybird-best-score");return i?parseInt(i):0}),P=s.useRef({y:pe/2,velocity:0}),R=s.useRef([]),A=s.useRef(void 0),M=s.useRef(0),I=s.useCallback(()=>{P.current={y:pe/2,velocity:0},R.current=[{x:ke,topHeight:Math.random()*(pe-Ne-100)+50,passed:!1}],S(0),M.current=0},[]),$=s.useCallback(()=>{I(),x("playing")},[I]),W=s.useCallback(()=>{w==="ready"?($(),P.current.velocity=it):w==="playing"&&(P.current.velocity=it)},[w,$]),T=s.useCallback((i,j)=>{const v=b.current;if(!v)return;const o=v.getContext("2d");if(!o)return;o.clearRect(0,0,ke,pe),R.current.forEach(n=>{o.fillStyle="#22c55e",o.fillRect(n.x,0,we,n.topHeight),o.strokeStyle="#166534",o.lineWidth=3,o.strokeRect(n.x,0,we,n.topHeight),o.fillStyle="#22c55e",o.fillRect(n.x,n.topHeight+Ne,we,pe-n.topHeight-Ne),o.strokeStyle="#166534",o.lineWidth=3,o.strokeRect(n.x,n.topHeight+Ne,we,pe-n.topHeight-Ne)});const B=He+ce/2,r=P.current.y;o.fillStyle="#fbbf24",o.beginPath(),o.ellipse(B,r,ce/2.2,ce/2.8,0,0,Math.PI*2),o.fill(),o.strokeStyle="#d97706",o.lineWidth=2.5,o.stroke(),o.closePath(),o.fillStyle="#f59e0b",o.beginPath(),o.ellipse(B-2,r+3,ce/4.5,ce/3.5,-.3,0,Math.PI*2),o.fill(),o.strokeStyle="#d97706",o.lineWidth=2,o.stroke(),o.closePath(),o.fillStyle="#ffffff",o.beginPath(),o.arc(B+6,r-3,4,0,Math.PI*2),o.fill(),o.closePath(),o.fillStyle="#000000",o.beginPath(),o.arc(B+7,r-3,2,0,Math.PI*2),o.fill(),o.closePath(),o.fillStyle="#f97316",o.beginPath(),o.moveTo(B+ce/2.5,r),o.lineTo(B+ce/1.5,r-2),o.lineTo(B+ce/1.5,r+2),o.closePath(),o.fill(),o.strokeStyle="#ea580c",o.lineWidth=1.5,o.stroke(),j==="playing"&&i!==void 0&&(o.fillStyle="rgba(255, 255, 255, 0.9)",o.strokeStyle="rgba(0, 0, 0, 0.3)",o.lineWidth=4,o.font="bold 48px Arial",o.textAlign="center",o.strokeText(i.toString(),ke/2,80),o.fillText(i.toString(),ke/2,80))},[]),D=s.useCallback(()=>{const i=P.current;if(i.y-ce/2<=0||i.y+ce/2>=pe)return!0;for(const j of R.current){const v=He,o=He+ce,B=j.x,r=j.x+we;if(o>B&&v<r){const n=i.y-ce/2,f=i.y+ce/2,l=j.topHeight,c=j.topHeight+Ne;if(n<l||f>c)return!0}}return!1},[]);s.useEffect(()=>{if(w!=="playing"){T(N,w);return}let i=N;const j=()=>{const v=P.current;if(v.velocity+=On,v.y+=v.velocity,M.current++,M.current%150===0&&R.current.push({x:ke,topHeight:Math.random()*(pe-Ne-150)+75,passed:!1}),R.current.forEach(o=>{o.x-=Gn,!o.passed&&o.x+we<He&&(o.passed=!0,i++,S(i))}),R.current=R.current.filter(o=>o.x>-we),D()){x("over"),i>L&&(F(i),localStorage.setItem("flappybird-best-score",i.toString()));return}T(i,"playing"),A.current=requestAnimationFrame(j)};return A.current=requestAnimationFrame(j),()=>{A.current&&cancelAnimationFrame(A.current)}},[w,T,D,N,L]),s.useEffect(()=>{const i=j=>{(j.key===" "||j.key==="ArrowUp")&&(j.preventDefault(),W())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[W]);const O=()=>{W()},k=i=>{i.preventDefault(),W()},d=()=>{I(),x("ready")};return e.jsx("div",{className:V.overlay,children:e.jsxs("div",{className:V.gameContainer,children:[e.jsxs("div",{className:V.header,children:[e.jsx("h2",{children:"Flappy Bird"}),e.jsx("button",{onClick:H,className:V.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:V.statsBar,children:[e.jsxs("div",{className:V.stat,children:["å¾—åˆ†: ",N]}),e.jsxs("div",{className:V.stat,children:["æœ€é«˜: ",L]})]}),e.jsxs("div",{className:V.gameBoard,children:[e.jsx("canvas",{ref:b,width:ke,height:pe,className:V.canvas,onClick:O,onTouchStart:k}),w==="ready"&&e.jsx("div",{className:V.messageOverlay,children:e.jsxs("div",{className:V.message,children:[e.jsx("h3",{children:"ğŸ¦ å‡†å¤‡èµ·é£"}),e.jsx("p",{children:"è§¦æ‘¸/ç‚¹å‡»å±å¹•æˆ–æŒ‰ç©ºæ ¼é”®å¼€å§‹"}),e.jsxs("div",{className:V.hintBox,children:[e.jsx("p",{className:V.hint,children:"ğŸ’¡ æŒç»­è§¦æ‘¸/ç‚¹å‡»ä¿æŒé£è¡Œé«˜åº¦"}),e.jsx("p",{className:V.hint,children:"ğŸ’¡ é€šè¿‡ç»¿è‰²ç®¡é“é—´éš™å¾—åˆ†"})]})]})}),w==="over"&&e.jsx("div",{className:V.messageOverlay,children:e.jsxs("div",{className:V.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("div",{className:V.scoreBox,children:[e.jsxs("p",{className:V.finalScore,children:["æœ¬æ¬¡å¾—åˆ†: ",e.jsx("strong",{children:N})]}),e.jsxs("p",{className:V.bestScoreText,children:["æœ€é«˜åˆ†: ",e.jsx("strong",{children:L})]})]}),N===L&&N>0&&e.jsx("p",{className:V.congrats,children:"ğŸ‰ æ–°çºªå½•ï¼"}),e.jsx("button",{onClick:d,className:V.btn,children:"å†æ¥ä¸€æ¬¡"})]})})]}),e.jsxs("div",{className:V.instructions,children:[e.jsx("p",{children:"ğŸ® è§¦æ‘¸/ç‚¹å‡»å±å¹•æˆ–æŒ‰ç©ºæ ¼é”®æ§åˆ¶å°é¸Ÿé£è¡Œ"}),e.jsx("p",{children:"ğŸ† é€šè¿‡ç®¡é“é—´éš™è·å¾—åˆ†æ•°ï¼ŒæŒ‘æˆ˜æ›´é«˜çºªå½•"})]})]})})},Hn="_overlay_7ll9o_1",Wn="_gameContainer_7ll9o_15",qn="_header_7ll9o_42",Xn="_closeBtn_7ll9o_55",zn="_statsBar_7ll9o_68",Yn="_stat_7ll9o_68",Kn="_hintBtn_7ll9o_92",Un="_gameBoard_7ll9o_108",Vn="_grid_7ll9o_118",Jn="_tile_7ll9o_126",Zn="_matched_7ll9o_138",Qn="_selected_7ll9o_142",er="_tileIcon_7ll9o_153",tr="_pathSvg_7ll9o_158",sr="_messageOverlay_7ll9o_181",nr="_message_7ll9o_181",rr="_hint_7ll9o_92",ar="_btn_7ll9o_215",or="_instructions_7ll9o_232",Y={overlay:Hn,gameContainer:Wn,header:qn,closeBtn:Xn,statsBar:zn,stat:Yn,hintBtn:Kn,gameBoard:Un,grid:Vn,tile:Jn,matched:Zn,selected:Qn,tileIcon:er,pathSvg:tr,messageOverlay:sr,message:nr,hint:rr,btn:ar,instructions:or},Be=8,Ce=10,cr=["ğŸ","ğŸŠ","ğŸ‹","ğŸ‡","ğŸ“","ğŸ’","ğŸ‘","ğŸ‰","ğŸŒ","ğŸ¥"],Ke=300,lr=({onClose:H})=>{const[b,w]=s.useState([]),[x,N]=s.useState(null),[S,L]=s.useState("ready"),[F,P]=s.useState(Ke),[R,A]=s.useState(0),[M,I]=s.useState([]),$=s.useCallback(()=>{const d=[],i=[...cr],v=Be*Ce/2,o=[];for(let r=0;r<v;r++){const n=i[r%i.length];o.push(n,n)}for(let r=o.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[o[r],o[n]]=[o[n],o[r]]}let B=0;for(let r=0;r<Be;r++)for(let n=0;n<Ce;n++)d.push({id:`${r}-${n}`,row:r,col:n,type:o[B],matched:!1}),B++;w(d),N(null),A(0),P(Ke),I([])},[]),W=s.useCallback(()=>{$(),L("playing")},[$]),T=s.useCallback((d,i)=>{if(d.type!==i.type)return null;const j=new Set,v=[];v.push({pos:{row:d.row,col:d.col},path:[],turns:0});const o=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];for(;v.length>0;){const B=v.shift(),{pos:r,path:n,turns:f}=B;if(r.row===i.row&&r.col===i.col)return[...n,r];if(f>2)continue;const l=`${r.row},${r.col}`;if(!j.has(l)){j.add(l);for(const c of o){let g=r.row+c.row,_=r.col+c.col;for(;g>=-1&&g<=Be&&_>=-1&&_<=Ce;){if(!(g<0||g>=Be||_<0||_>=Ce)){const m=b.find(h=>h.row===g&&h.col===_);if(m&&!m.matched&&m.id!==d.id&&m.id!==i.id)break}const a={row:g,col:_},p=[...n,r];let u=f;if(n.length>0){const m=n[n.length-1],h={row:r.row-m.row,col:r.col-m.col},y={row:g-r.row,col:_-r.col};(h.row!==y.row||h.col!==y.col)&&u++}if(g===i.row&&_===i.col)return[...p,a];v.push({pos:a,path:p,turns:u}),g+=c.row,_+=c.col}}}}return null},[b]),D=s.useCallback(d=>{if(!(S!=="playing"||d.matched))if(!x)N(d),I([]);else if(x.id===d.id)N(null);else{const i=T(x,d);i?(I(i),setTimeout(()=>{w(j=>j.map(v=>v.id===x.id||v.id===d.id?ie(ae({},v),{matched:!0}):v)),A(j=>j+2),N(null),I([])},300)):N(d)}},[x,S,T]),O=s.useCallback(()=>{const d=b.filter(i=>!i.matched);for(let i=0;i<d.length;i++)for(let j=i+1;j<d.length;j++){const v=T(d[i],d[j]);if(v){N(d[i]),I(v),setTimeout(()=>{N(null),I([])},2e3);return}}},[b,T]);s.useEffect(()=>{if(S!=="playing")return;const d=setInterval(()=>{P(i=>i<=1?(L("lost"),0):i-1)},1e3);return()=>clearInterval(d)},[S]),s.useEffect(()=>{S==="playing"&&R===Be*Ce&&L("won")},[R,S]),s.useEffect(()=>{$()},[$]);const k=d=>{const i=Math.floor(d/60),j=d%60;return`${i}:${j.toString().padStart(2,"0")}`};return e.jsx("div",{className:Y.overlay,children:e.jsxs("div",{className:Y.gameContainer,children:[e.jsxs("div",{className:Y.header,children:[e.jsx("h2",{children:"è¿è¿çœ‹"}),e.jsx("button",{onClick:H,className:Y.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:Y.statsBar,children:[e.jsxs("div",{className:Y.stat,children:["å‰©ä½™: ",Be*Ce-R," å¯¹"]}),e.jsxs("div",{className:Y.stat,children:["æ—¶é—´: ",k(F)]}),S==="playing"&&e.jsx("button",{onClick:O,className:Y.hintBtn,children:"ğŸ’¡ æç¤º"})]}),e.jsxs("div",{className:Y.gameBoard,children:[e.jsx("div",{className:Y.grid,children:b.map(d=>e.jsx("div",{className:`${Y.tile} ${d.matched?Y.matched:""} ${(x==null?void 0:x.id)===d.id?Y.selected:""}`,onClick:()=>D(d),children:!d.matched&&e.jsx("span",{className:Y.tileIcon,children:d.type})},d.id))}),M.length>1&&e.jsx("svg",{className:Y.pathSvg,children:e.jsx("polyline",{points:M.map(d=>{const i=(d.col+.5)*50,j=(d.row+.5)*50;return`${i},${j}`}).join(" "),stroke:"#22c55e",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}),S==="ready"&&e.jsx("div",{className:Y.messageOverlay,children:e.jsxs("div",{className:Y.message,children:[e.jsx("h3",{children:"å‡†å¤‡å¼€å§‹"}),e.jsx("p",{children:"æ‰¾åˆ°ç›¸åŒçš„å›¾æ¡ˆå¹¶è¿æ¥æ¶ˆé™¤"}),e.jsx("p",{className:Y.hint,children:"è¿çº¿æœ€å¤šåªèƒ½æ‹ä¸¤ä¸ªå¼¯"}),e.jsx("button",{onClick:W,className:Y.btn,children:"å¼€å§‹æ¸¸æˆ"})]})}),S==="won"&&e.jsx("div",{className:Y.messageOverlay,children:e.jsxs("div",{className:Y.message,children:[e.jsx("h3",{children:"æ­å–œé€šå…³"}),e.jsxs("p",{children:["ç”¨æ—¶: ",k(Ke-F)]}),e.jsx("button",{onClick:W,className:Y.btn,children:"å†ç©ä¸€æ¬¡"})]})}),S==="lost"&&e.jsx("div",{className:Y.messageOverlay,children:e.jsxs("div",{className:Y.message,children:[e.jsx("h3",{children:"æ—¶é—´åˆ°"}),e.jsxs("p",{children:["å·²æ¶ˆé™¤: ",R," å¯¹"]}),e.jsx("button",{onClick:W,className:Y.btn,children:"é‡æ–°å¼€å§‹"})]})})]}),e.jsxs("div",{className:Y.instructions,children:[e.jsx("p",{children:"ç‚¹å‡»ä¸¤ä¸ªç›¸åŒçš„å›¾æ¡ˆè¿›è¡Œæ¶ˆé™¤"}),e.jsx("p",{children:"è¿çº¿æœ€å¤šåªèƒ½æ‹ä¸¤ä¸ªå¼¯"})]})]})})};var ir=jt();const Q=yt(ir),dr="_overlay_1czli_1",ur="_gameContainer_1czli_15",hr="_header_1czli_42",mr="_closeBtn_1czli_55",fr="_statsBar_1czli_68",_r="_stat_1czli_68",xr="_statCombo_1czli_92",pr="_gameBoard_1czli_107",gr="_canvas_1czli_114",vr="_messageOverlay_1czli_122",yr="_message_1czli_122",jr="_hint_1czli_151",br="_scoreBox_1czli_157",wr="_finalScore_1czli_165",Nr="_bestScoreText_1czli_174",Sr="_congrats_1czli_183",kr="_btn_1czli_190",Br="_instructions_1czli_207",J={overlay:dr,gameContainer:ur,header:hr,closeBtn:mr,statsBar:fr,stat:_r,statCombo:xr,gameBoard:pr,canvas:gr,messageOverlay:vr,message:yr,hint:jr,scoreBox:br,finalScore:wr,bestScoreText:Nr,congrats:Sr,btn:kr,instructions:Br},Ie=400,Ae=600,Te=36,dt=80,$e=16,Ue=250,Ve=18,Cr=({onClose:H})=>{const b=s.useRef(null),[w,x]=s.useState("ready"),[N,S]=s.useState(0),[L,F]=s.useState(0),[P,R]=s.useState(()=>{const r=localStorage.getItem("jumpjump-best-score");return r?parseInt(r):0}),A=s.useRef(null),M=s.useRef({charging:!1,power:0,onGround:!1,lastPlatformIndex:0}),I=s.useRef([]),$=s.useRef(0),W=s.useRef(void 0),T=s.useRef(!1),D=s.useRef(0),O=s.useCallback(()=>{const r=[];r.push({x:Ie/2-dt/2,y:400,width:dt});for(let n=1;n<10;n++){const f=r[n-1],l=100+Math.random()*100,c=(Math.random()*60-30)*(Math.PI/180);r.push({x:f.x+Math.cos(c)*l,y:f.y-80-Math.random()*40,width:60+Math.random()*40})}return r},[]),k=s.useCallback(()=>{const r=Q.Engine.create({gravity:{x:0,y:.6}});A.current=r;const n=O();I.current=n,n.forEach(c=>{const g=Q.Bodies.rectangle(c.x+c.width/2,c.y+$e/2,c.width,$e,{isStatic:!0,isSensor:!0,label:"platform"});c.body=g,Q.World.add(r.world,g)});const f=n[0],l=Q.Bodies.circle(f.x+f.width/2,f.y-Te/2,Te/2,{friction:.001,frictionAir:.02,restitution:0,density:.04,label:"player"});Q.World.add(r.world,l),M.current.body=l,M.current.onGround=!0,M.current.lastPlatformIndex=0,Q.Events.on(r,"collisionStart",c=>{c.pairs.forEach(g=>{const{bodyA:_,bodyB:t}=g;if(_.label==="player"&&t.label==="platform"||t.label==="player"&&_.label==="platform"){const a=_.label==="player"?_:t,p=_.label==="platform"?_:t,u=I.current.findIndex(C=>C.body===p),m=I.current[u],h=a.position.y+Te/2,y=m.y;if(a.velocity.y>0&&!M.current.onGround&&h>=y-10&&h<=y+10&&u>M.current.lastPlatformIndex){const C=a.position.x,E=y-Te/2;Q.Body.setStatic(a,!0),Q.Body.setPosition(a,{x:C,y:E}),Q.Body.setVelocity(a,{x:0,y:0}),Q.Body.setAngularVelocity(a,0),M.current.onGround=!0;const ne=m.x+m.width/2;if(Math.abs(C-ne)<=Ve){const U=D.current,ve=U+1;D.current=ve,F(ve),S(xe=>xe+2+U)}else D.current=0,F(0),S(U=>U+1);M.current.lastPlatformIndex=u,$.current=u,d()}}})}),$.current=0},[O]),d=s.useCallback(()=>{if(!A.current)return;const r=I.current[I.current.length-1],n=100+Math.random()*100,f=(Math.random()*60-30)*(Math.PI/180),l={x:r.x+Math.cos(f)*n,y:r.y-80-Math.random()*40,width:60+Math.random()*40},c=Q.Bodies.rectangle(l.x+l.width/2,l.y+$e/2,l.width,$e,{isStatic:!0,isSensor:!0,label:"platform"});if(l.body=c,Q.World.add(A.current.world,c),I.current.push(l),I.current.length>10){const g=I.current.shift();g!=null&&g.body&&Q.World.remove(A.current.world,g.body),$.current--,M.current.lastPlatformIndex--}},[]),i=s.useCallback(()=>{A.current&&(Q.Engine.clear(A.current),Q.World.clear(A.current.world,!1)),k(),M.current.charging=!1,M.current.power=0,D.current=0,S(0),F(0)},[k]),j=s.useCallback(()=>{i(),x("playing")},[i]),v=s.useCallback(()=>{const r=b.current;if(!r)return;const n=r.getContext("2d");if(!n)return;const f=M.current;if(!f.body)return;const l=(a,p,u,m,h)=>{typeof n.roundRect=="function"?n.roundRect(a,p,u,m,h):(n.moveTo(a+h,p),n.lineTo(a+u-h,p),n.arcTo(a+u,p,a+u,p+h,h),n.lineTo(a+u,p+m-h),n.arcTo(a+u,p+m,a+u-h,p+m,h),n.lineTo(a+h,p+m),n.arcTo(a,p+m,a,p+m-h,h),n.lineTo(a,p+h),n.arcTo(a,p,a+h,p,h))};n.clearRect(0,0,Ie,Ae);const c=f.body.position.x-Ie/2,g=f.body.position.y-Ae*.7;I.current.forEach((a,p)=>{const u=a.x-c,m=a.y-g;if(u>-100&&u<Ie+100&&m>-50&&m<Ae+50){const y=p===$.current,C=p===$.current+1;if(y?n.fillStyle="rgba(255, 255, 255, 0.9)":C?n.fillStyle="rgba(255, 255, 255, 0.3)":n.fillStyle="rgba(255, 255, 255, 0.15)",n.beginPath(),l(u,m,a.width,$e,8),n.fill(),C){const E=u+a.width/2;n.fillStyle="rgba(34, 197, 94, 0.9)",n.shadowColor="rgba(34, 197, 94, 0.6)",n.shadowBlur=12,n.beginPath(),l(E-Ve,m,Ve*2,$e,8),n.fill(),n.shadowBlur=0}}});const _=f.body.position.x-c,t=f.body.position.y-g;if(n.fillStyle="#ffffff",n.beginPath(),n.arc(_,t,Te/2,0,Math.PI*2),n.fill(),n.closePath(),f.charging){const u=_-25,m=t-Te-10;n.fillStyle="rgba(255, 255, 255, 0.2)",n.fillRect(u,m,50,4);const h=f.power/Ue;n.fillStyle="#ffffff",n.fillRect(u,m,50*h,4)}L>1&&(n.fillStyle="rgba(255, 255, 255, 0.9)",n.font="600 20px Arial",n.textAlign="center",n.fillText(`${L}x`,Ie/2,40))},[L]);s.useEffect(()=>{if(w!=="playing"){v();return}const r=()=>{const n=M.current,f=A.current;if(!(!n.body||!f)){if(n.charging&&T.current&&(n.power=Math.min(n.power+5,Ue)),!n.charging&&!n.onGround&&Q.Engine.update(f,1e3/60),I.current.length>0){const l=Math.max(...I.current.map(c=>c.y));if(n.body.position.y>l+Ae/2){x("over"),N>P&&(R(N),localStorage.setItem("jumpjump-best-score",N.toString()));return}}v(),W.current=requestAnimationFrame(r)}};return W.current=requestAnimationFrame(r),()=>{W.current&&cancelAnimationFrame(W.current)}},[w,v,N,P,L]);const o=s.useCallback(()=>{if(w!=="playing")return;const r=M.current;r.onGround&&!r.charging&&r.body&&(r.charging=!0,r.power=0,T.current=!0,Q.Body.setVelocity(r.body,{x:0,y:0}),Q.Body.setStatic(r.body,!0))},[w]),B=s.useCallback(()=>{if(w!=="playing")return;const r=M.current;if(r.charging&&r.body){const n=-75*(Math.PI/180),l=6+Math.max(r.power/Ue,.3)*9;Q.Body.setStatic(r.body,!1),Q.Body.setVelocity(r.body,{x:Math.cos(n)*l,y:Math.sin(n)*l}),r.charging=!1,r.power=0,r.onGround=!1,T.current=!1}},[w]);return s.useEffect(()=>{const r=f=>{f.code==="Space"&&w==="playing"&&(f.preventDefault(),o())},n=f=>{f.code==="Space"&&w==="playing"&&(f.preventDefault(),B())};return window.addEventListener("keydown",r),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",n)}},[w,o,B]),s.useEffect(()=>{const r=b.current;if(!r)return;const n=l=>{l.preventDefault(),o()},f=l=>{l.preventDefault(),B()};return r.addEventListener("mousedown",n),r.addEventListener("mouseup",f),r.addEventListener("touchstart",n),r.addEventListener("touchend",f),()=>{r.removeEventListener("mousedown",n),r.removeEventListener("mouseup",f),r.removeEventListener("touchstart",n),r.removeEventListener("touchend",f)}},[o,B]),s.useEffect(()=>(i(),()=>{A.current&&Q.Engine.clear(A.current)}),[i]),e.jsx("div",{className:J.overlay,children:e.jsxs("div",{className:J.gameContainer,children:[e.jsxs("div",{className:J.header,children:[e.jsx("h2",{children:"è·³ä¸€è·³"}),e.jsx("button",{onClick:H,className:J.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:J.statsBar,children:[e.jsxs("div",{className:J.stat,children:["å¾—åˆ†: ",N]}),e.jsxs("div",{className:J.stat,children:["æœ€é«˜: ",P]}),L>1&&e.jsxs("div",{className:J.statCombo,children:[L,"x è¿å‡»"]})]}),e.jsxs("div",{className:J.gameBoard,children:[e.jsx("canvas",{ref:b,width:Ie,height:Ae,className:J.canvas}),w==="ready"&&e.jsx("div",{className:J.messageOverlay,children:e.jsxs("div",{className:J.message,children:[e.jsx("h3",{children:"å‡†å¤‡å¼€å§‹"}),e.jsx("p",{children:"é•¿æŒ‰ç©ºæ ¼æˆ–å±å¹•è“„åŠ›ï¼Œæ¾å¼€è·³è·ƒ"}),e.jsx("p",{className:J.hint,children:"è½åœ¨ä¸­å¿ƒåŒºåŸŸè·å¾—è¿å‡»"}),e.jsx("button",{onClick:j,className:J.btn,children:"å¼€å§‹æ¸¸æˆ"})]})}),w==="over"&&e.jsx("div",{className:J.messageOverlay,children:e.jsxs("div",{className:J.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("div",{className:J.scoreBox,children:[e.jsxs("p",{className:J.finalScore,children:["æœ¬æ¬¡å¾—åˆ†: ",e.jsx("strong",{children:N})]}),e.jsxs("p",{className:J.bestScoreText,children:["æœ€é«˜åˆ†: ",e.jsx("strong",{children:P})]})]}),N===P&&N>0&&e.jsx("p",{className:J.congrats,children:"æ–°çºªå½•"}),e.jsx("button",{onClick:j,className:J.btn,children:"å†æ¥ä¸€æ¬¡"})]})})]}),e.jsxs("div",{className:J.instructions,children:[e.jsx("p",{children:"é•¿æŒ‰ç©ºæ ¼æˆ–å±å¹•è“„åŠ›ï¼Œæ¾å¼€è·³è·ƒ"}),e.jsx("p",{children:"è½åœ¨ä¸­å¿ƒè·å¾—è¿å‡»åŠ åˆ†"})]})]})})},Ir="_overlay_14l6w_1",Tr="_gameContainer_14l6w_15",$r="_header_14l6w_42",Er="_closeBtn_14l6w_55",Rr="_statsBar_14l6w_68",Pr="_stat_14l6w_68",Mr="_lives_14l6w_100",Lr="_heart_14l6w_107",Ar="_heartEmpty_14l6w_113",Dr="_buffsBar_14l6w_119",Or="_buff_14l6w_119",Gr="_gameBoard_14l6w_157",Fr="_canvas_14l6w_164",Hr="_messageOverlay_14l6w_172",Wr="_message_14l6w_172",qr="_hint_14l6w_201",Xr="_scoreBox_14l6w_207",zr="_finalScore_14l6w_215",Yr="_bestScoreText_14l6w_224",Kr="_congrats_14l6w_233",Ur="_btn_14l6w_240",Vr="_instructions_14l6w_257",X={overlay:Ir,gameContainer:Tr,header:$r,closeBtn:Er,statsBar:Rr,stat:Pr,lives:Mr,heart:Lr,heartEmpty:Ar,buffsBar:Dr,buff:Or,gameBoard:Gr,canvas:Fr,messageOverlay:Hr,message:Wr,hint:qr,scoreBox:Xr,finalScore:zr,bestScoreText:Yr,congrats:Kr,btn:Ur,instructions:Vr},_e=400,be=600,re=80,ge=60,de=40,ut=10,Je=3,ht=1e3,We=[{type:"apple",emoji:"ğŸ",points:10,weight:3},{type:"banana",emoji:"ğŸŒ",points:15,weight:3},{type:"orange",emoji:"ğŸŠ",points:10,weight:3},{type:"grape",emoji:"ğŸ‡",points:20,weight:2},{type:"watermelon",emoji:"ğŸ‰",points:30,weight:1}],mt=[{type:"star",emoji:"â­",description:"é»„é‡‘æ°´æœ +50åˆ†"},{type:"freeze",emoji:"â„ï¸",description:"æ—¶é—´å‡é€Ÿ"},{type:"double",emoji:"âœ¨",description:"åŒå€å¾—åˆ†"}],Jr=({onClose:H})=>{const b=s.useRef(null),[w,x]=s.useState("ready"),[N,S]=s.useState(0),[L,F]=s.useState(3),[P,R]=s.useState(0),[A,M]=s.useState(()=>{const _=localStorage.getItem("fruitcatcher-best-score");return _?parseInt(_):0}),I=s.useRef(_e/2-re/2),$=s.useRef([]),W=s.useRef(0),T=s.useRef(0),D=s.useRef({}),O=s.useRef(void 0),k=s.useRef(0),d=s.useRef(!1),i=s.useRef(0),j=s.useRef(0),v=s.useRef(0),[o,B]=s.useState(!1),[r,n]=s.useState(!1),f=s.useCallback(_=>{const t=Math.random(),a=Math.min(1+(_-v.current)/3e4,2.5);let p;if(t<.15){const u=mt[Math.floor(Math.random()*mt.length)];p={id:W.current++,x:Math.random()*(_e-de),y:-de,type:u.type,emoji:u.emoji,speed:Je*a*.8,isSpecial:!0}}else if(t<.35)p={id:W.current++,x:Math.random()*(_e-de),y:-de,type:"bomb",emoji:"ğŸ’£",speed:Je*a};else{const u=We.reduce((y,C)=>y+C.weight,0);let m=Math.random()*u,h=We[0];for(const y of We)if(m-=y.weight,m<=0){h=y;break}p={id:W.current++,x:Math.random()*(_e-de),y:-de,type:h.type,emoji:h.emoji,speed:Je*a}}$.current.push(p)},[]),l=s.useCallback(_=>{const t=I.current,a=I.current+re,p=be-ge,u=_.x,m=_.x+de,h=_.y+de;return h>=p&&h<=be&&m>t&&u<a},[]),c=s.useCallback(()=>{const _=b.current;if(!_)return;const t=_.getContext("2d");if(!t)return;t.clearRect(0,0,_e,be);const a=t.createLinearGradient(0,0,0,be);a.addColorStop(0,"#87ceeb"),a.addColorStop(1,"#e0f6ff"),t.fillStyle=a,t.fillRect(0,0,_e,be);const p=I.current,u=be-ge;t.fillStyle="rgba(160, 82, 45, 0.95)",t.beginPath(),t.moveTo(p+5,u+10),t.lineTo(p,u+ge-15),t.quadraticCurveTo(p+re/2,u+ge+5,p+re,u+ge-15),t.lineTo(p+re-5,u+10),t.lineTo(p+5,u+10),t.closePath(),t.fill(),t.fillStyle="rgba(101, 67, 33, 0.9)",t.beginPath(),t.ellipse(p+re/2,u+10,re/2-5,8,0,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(101, 67, 33, 0.4)",t.lineWidth=2;for(let m=1;m<6;m++){const h=p+m*(re/6);t.beginPath(),t.moveTo(h,u+15),t.lineTo(h,u+ge-10),t.stroke()}t.strokeStyle="rgba(101, 67, 33, 0.8)",t.lineWidth=2.5,t.beginPath(),t.moveTo(p+5,u+10),t.lineTo(p,u+ge-15),t.quadraticCurveTo(p+re/2,u+ge+5,p+re,u+ge-15),t.lineTo(p+re-5,u+10),t.stroke(),$.current.forEach(m=>{const h=m.x+de/2,y=m.y+de/2,C=de*.4;if(m.type==="bomb")t.fillStyle="#1a1a1a",t.beginPath(),t.arc(h,y,C,0,Math.PI*2),t.fill(),t.strokeStyle="#8b7355",t.lineWidth=2,t.beginPath(),t.moveTo(h,y-C),t.lineTo(h,y-C-8),t.stroke();else if(m.type==="star"){t.fillStyle="#fbbf24",t.shadowColor="#fbbf24",t.shadowBlur=8,t.beginPath();for(let E=0;E<5;E++){const ne=E*4*Math.PI/5-Math.PI/2,me=h+Math.cos(ne)*C,U=y+Math.sin(ne)*C;E===0?t.moveTo(me,U):t.lineTo(me,U)}t.closePath(),t.fill(),t.shadowBlur=0}else if(m.type==="freeze"){t.strokeStyle="#60a5fa",t.lineWidth=3,t.shadowColor="#60a5fa",t.shadowBlur=6,t.beginPath(),t.moveTo(h,y-C),t.lineTo(h,y+C),t.moveTo(h-C,y),t.lineTo(h+C,y);const E=C*.7;t.moveTo(h-E,y-E),t.lineTo(h+E,y+E),t.moveTo(h+E,y-E),t.lineTo(h-E,y+E),t.stroke(),t.shadowBlur=0}else if(m.type==="double")t.fillStyle="#a855f7",t.shadowColor="#a855f7",t.shadowBlur=8,t.beginPath(),t.moveTo(h,y-C),t.lineTo(h+C*.6,y),t.lineTo(h,y+C),t.lineTo(h-C*.6,y),t.closePath(),t.fill(),t.shadowBlur=0;else{let E="#ef4444";m.type==="banana"?E="#fbbf24":m.type==="orange"?E="#fb923c":m.type==="grape"?E="#a855f7":m.type==="watermelon"&&(E="#22c55e"),t.fillStyle=E,t.beginPath(),t.arc(h,y,C,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.4)",t.beginPath(),t.arc(h-C*.3,y-C*.3,C*.3,0,Math.PI*2),t.fill(),m.type!=="banana"&&(t.strokeStyle="#22c55e",t.lineWidth=2,t.beginPath(),t.moveTo(h,y-C),t.lineTo(h,y-C-5),t.stroke())}})},[]);s.useEffect(()=>{if(w!=="playing"){c();return}const _=t=>{(D.current.ArrowLeft||D.current.a)&&(I.current=Math.max(0,I.current-ut)),(D.current.ArrowRight||D.current.d)&&(I.current=Math.min(_e-re,I.current+ut));const a=j.current>t?ht*1.5:ht;t-T.current>a&&(f(t),T.current=t),i.current>0&&t>i.current&&(d.current=!1,i.current=0,B(!1)),j.current>0&&t>j.current&&(j.current=0,n(!1));const p=j.current>t?.5:1;$.current=$.current.filter(u=>{if(u.y+=u.speed*p,l(u)){if(u.type==="bomb")F(m=>{const h=m-1;return h<=0&&(x("over"),N>A&&(M(N),localStorage.setItem("fruitcatcher-best-score",N.toString()))),h}),k.current=0,R(0);else if(u.type==="star"){const m=50*(d.current?2:1);S(h=>h+m),k.current+=1,R(k.current)}else if(u.type==="freeze")j.current=t+5e3,n(!0),k.current+=1,R(k.current);else if(u.type==="double")d.current=!0,i.current=t+1e4,B(!0),k.current+=1,R(k.current);else{const m=We.find(E=>E.type===u.type),h=(m==null?void 0:m.points)||10,y=Math.floor(k.current*.5),C=(h+y)*(d.current?2:1);S(E=>E+C),k.current+=1,R(k.current)}return!1}return u.y>be?(u.type!=="bomb"&&!u.isSpecial&&(k.current=0,R(0)),!1):!0}),c(),O.current=requestAnimationFrame(_)};return O.current=requestAnimationFrame(_),()=>{O.current&&cancelAnimationFrame(O.current)}},[w,c,l,f,N,A]),s.useEffect(()=>{const _=a=>{["ArrowLeft","ArrowRight","a","d"].includes(a.key)&&(a.preventDefault(),D.current[a.key]=!0)},t=a=>{["ArrowLeft","ArrowRight","a","d"].includes(a.key)&&(a.preventDefault(),D.current[a.key]=!1)};return window.addEventListener("keydown",_),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",t)}},[]),s.useEffect(()=>{const _=b.current;if(!_)return;const t=a=>{if(w!=="playing")return;const p=_.getBoundingClientRect();let u;a instanceof MouseEvent?u=a.clientX:u=a.touches[0].clientX;const m=u-p.left;I.current=Math.max(0,Math.min(_e-re,m-re/2))};return _.addEventListener("mousemove",t),_.addEventListener("touchmove",t),()=>{_.removeEventListener("mousemove",t),_.removeEventListener("touchmove",t)}},[w]);const g=s.useCallback(()=>{I.current=_e/2-re/2,$.current=[],W.current=0,T.current=0,D.current={},k.current=0,d.current=!1,i.current=0,j.current=0,v.current=performance.now(),S(0),F(3),R(0),B(!1),n(!1),x("playing")},[]);return e.jsx("div",{className:X.overlay,children:e.jsxs("div",{className:X.gameContainer,children:[e.jsxs("div",{className:X.header,children:[e.jsx("h2",{children:"æ¥æ°´æœ"}),e.jsx("button",{onClick:H,className:X.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:X.statsBar,children:[e.jsxs("div",{className:X.stat,children:["å¾—åˆ†: ",N]}),e.jsx("div",{className:X.stat,children:e.jsx("div",{className:X.lives,children:Array.from({length:3}).map((_,t)=>t<L?e.jsx("svg",{className:X.heart,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"#ef4444"})},t):e.jsx("svg",{className:X.heartEmpty,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})},t))})}),e.jsxs("div",{className:X.stat,children:["æœ€é«˜: ",A]}),P>0&&e.jsxs("div",{className:X.stat,children:["è¿å‡»: ",P,"x"]})]}),e.jsxs("div",{className:X.buffsBar,children:[o&&e.jsx("div",{className:X.buff,children:"âœ¨ åŒå€å¾—åˆ†"}),r&&e.jsx("div",{className:X.buff,children:"â„ï¸ æ—¶é—´å‡é€Ÿ"})]}),e.jsxs("div",{className:X.gameBoard,children:[e.jsx("canvas",{ref:b,width:_e,height:be,className:X.canvas}),w==="ready"&&e.jsx("div",{className:X.messageOverlay,children:e.jsxs("div",{className:X.message,children:[e.jsx("h3",{children:"å‡†å¤‡å¼€å§‹"}),e.jsx("p",{children:"ä½¿ç”¨æ–¹å‘é”®/é¼ æ ‡/è§¦æ‘¸ç§»åŠ¨ç¯®å­"}),e.jsx("p",{className:X.hint,children:"æ¥ä½æ°´æœå¾—åˆ†ï¼Œèº²é¿ç‚¸å¼¹ğŸ’£"}),e.jsx("p",{className:X.hint,children:"â­é»„é‡‘æ°´æœ â„ï¸æ—¶é—´å‡é€Ÿ âœ¨åŒå€å¾—åˆ†"}),e.jsx("button",{onClick:g,className:X.btn,children:"å¼€å§‹æ¸¸æˆ"})]})}),w==="over"&&e.jsx("div",{className:X.messageOverlay,children:e.jsxs("div",{className:X.message,children:[e.jsx("h3",{children:"æ¸¸æˆç»“æŸ"}),e.jsxs("div",{className:X.scoreBox,children:[e.jsxs("p",{className:X.finalScore,children:["æœ¬æ¬¡å¾—åˆ†: ",e.jsx("strong",{children:N})]}),e.jsxs("p",{className:X.bestScoreText,children:["æœ€é«˜åˆ†: ",e.jsx("strong",{children:A})]})]}),N===A&&N>0&&e.jsx("p",{className:X.congrats,children:"æ–°çºªå½•"}),e.jsx("button",{onClick:g,className:X.btn,children:"å†æ¥ä¸€æ¬¡"})]})})]}),e.jsxs("div",{className:X.instructions,children:[e.jsx("p",{children:"æ–¹å‘é”®/é¼ æ ‡/è§¦æ‘¸ç§»åŠ¨ç¯®å­ | æ¥ä½æ°´æœå¾—åˆ†ï¼Œèº²é¿ç‚¸å¼¹ğŸ’£"}),e.jsx("p",{children:"ç‰¹æ®Šé“å…·: â­+50åˆ† | â„ï¸å‡é€Ÿ | âœ¨åŒå€ | è¿ç»­æ¥ä½ç´¯ç§¯è¿å‡»å¥–åŠ±"})]})]})})},Zr="_overlay_17uf2_1",Qr="_gameContainer_17uf2_15",ea="_header_17uf2_42",ta="_closeBtn_17uf2_55",sa="_statsBar_17uf2_68",na="_stat_17uf2_68",ra="_gameBoard_17uf2_99",aa="_grid_17uf2_109",oa="_tile_17uf2_116",ca="_wall_17uf2_124",la="_target_17uf2_129",ia="_player_17uf2_155",da="_box_17uf2_174",ua="_boxOnTarget_17uf2_203",ha="_messageOverlay_17uf2_244",ma="_message_17uf2_244",fa="_scoreBox_17uf2_269",_a="_btnGroup_17uf2_282",xa="_btn_17uf2_282",pa="_controls_17uf2_305",ga="_controlBtn_17uf2_313",va="_levelSelector_17uf2_333",ya="_levelBtn_17uf2_338",ja="_active_17uf2_355",ba="_instructions_17uf2_361",z={overlay:Zr,gameContainer:Qr,header:ea,closeBtn:ta,statsBar:sa,stat:na,gameBoard:ra,grid:aa,tile:oa,wall:ca,target:la,player:ia,box:da,boxOnTarget:ua,messageOverlay:ha,message:ma,scoreBox:fa,btnGroup:_a,btn:xa,controls:pa,controlBtn:ga,levelSelector:va,levelBtn:ya,active:ja,instructions:ba},Ee=40,wa=0,Ze=1,ft=2,Na=3,De=[{name:"å…¥é—¨",grid:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,0,3,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,2,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]],playerStart:{x:3,y:5}},{name:"åˆçº§",grid:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,3,0,0,3,0,1],[1,0,0,0,0,0,0,1],[1,0,2,0,0,2,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]],playerStart:{x:3,y:6}},{name:"ä¸­çº§",grid:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,3,0,0,3,0,1],[1,0,0,1,1,0,0,1],[1,0,0,0,0,0,0,1],[1,0,2,0,0,2,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]],playerStart:{x:3,y:6}},{name:"é«˜çº§",grid:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,0,3,3,0,0,1],[1,0,1,0,0,1,0,1],[1,0,0,0,0,0,0,1],[1,0,1,2,2,1,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]],playerStart:{x:3,y:1}}],Sa=({onClose:H})=>{const[b,w]=s.useState(0),[x,N]=s.useState(null),[S,L]=s.useState([]),[F,P]=s.useState(!1),R=s.useCallback(k=>{const d=De[k],i=d.grid.map(o=>[...o]),j=[];for(let o=0;o<i.length;o++)for(let B=0;B<i[o].length;B++)i[o][B]===Na&&(j.push({x:B,y:o}),i[o][B]=wa);const v={grid:i,playerPos:ae({},d.playerStart),boxes:j,moves:0,pushes:0};N(v),L([v]),P(!1)},[]);s.useEffect(()=>{R(b)},[b,R]);const A=s.useCallback(k=>k.boxes.every(d=>k.grid[d.y][d.x]===ft),[]),M=s.useCallback((k,d)=>{if(!x||F)return;const i=x.playerPos.x+k,j=x.playerPos.y+d;if(j<0||j>=x.grid.length||i<0||i>=x.grid[0].length||x.grid[j][i]===Ze)return;const v=x.boxes.findIndex(o=>o.x===i&&o.y===j);if(v!==-1){const o=i+k,B=j+d;if(B<0||B>=x.grid.length||o<0||o>=x.grid[0].length||x.grid[B][o]===Ze||x.boxes.some(f=>f.x===o&&f.y===B))return;const r=[...x.boxes];r[v]={x:o,y:B};const n=ie(ae({},x),{playerPos:{x:i,y:j},boxes:r,moves:x.moves+1,pushes:x.pushes+1});N(n),L([...S,n]),A(n)&&P(!0)}else{const o=ie(ae({},x),{playerPos:{x:i,y:j},moves:x.moves+1});N(o),L([...S,o])}},[x,S,F,A]),I=s.useCallback(()=>{if(S.length<=1)return;const k=[...S];k.pop();const d=k[k.length-1];N(d),L(k),P(!1)},[S]),$=s.useCallback(()=>{R(b)},[b,R]),W=s.useCallback(()=>{b<De.length-1?w(b+1):w(0)},[b]);s.useEffect(()=>{const k=d=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d"].includes(d.key))switch(d.preventDefault(),d.key){case"ArrowUp":case"w":M(0,-1);break;case"ArrowDown":case"s":M(0,1);break;case"ArrowLeft":case"a":M(-1,0);break;case"ArrowRight":case"d":M(1,0);break}else d.key==="z"&&(d.ctrlKey||d.metaKey)?(d.preventDefault(),I()):d.key==="r"&&(d.preventDefault(),$())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[M,I,$]);const T=(k,d,i)=>{const j=x&&x.playerPos.x===d&&x.playerPos.y===i,v=x&&x.boxes.some(n=>n.x===d&&n.y===i),o=k===ft,B=v&&o;let r=z.tile;return k===Ze?r+=` ${z.wall}`:o&&(r+=` ${z.target}`),e.jsxs("div",{className:r,style:{width:Ee,height:Ee,left:d*Ee,top:i*Ee},children:[j&&e.jsx("div",{className:z.player}),v&&e.jsx("div",{className:B?z.boxOnTarget:z.box})]},`${d}-${i}`)};if(!x)return null;const D=x.grid[0].length*Ee,O=x.grid.length*Ee;return e.jsx("div",{className:z.overlay,children:e.jsxs("div",{className:z.gameContainer,children:[e.jsxs("div",{className:z.header,children:[e.jsx("h2",{children:"æ¨ç®±å­"}),e.jsx("button",{onClick:H,className:z.closeBtn,children:"âœ•"})]}),e.jsxs("div",{className:z.statsBar,children:[e.jsxs("div",{className:z.stat,children:["å…³å¡: ",De[b].name]}),e.jsxs("div",{className:z.stat,children:["æ­¥æ•°: ",x.moves]}),e.jsxs("div",{className:z.stat,children:["æ¨åŠ¨: ",x.pushes]})]}),e.jsxs("div",{className:z.gameBoard,children:[e.jsx("div",{className:z.grid,style:{width:D,height:O},children:x.grid.map((k,d)=>k.map((i,j)=>T(i,j,d)))}),F&&e.jsx("div",{className:z.messageOverlay,children:e.jsxs("div",{className:z.message,children:[e.jsx("h3",{children:"å…³å¡å®Œæˆï¼ğŸ‰"}),e.jsxs("div",{className:z.scoreBox,children:[e.jsxs("p",{children:["æ­¥æ•°: ",x.moves]}),e.jsxs("p",{children:["æ¨åŠ¨æ¬¡æ•°: ",x.pushes]})]}),e.jsxs("div",{className:z.btnGroup,children:[e.jsx("button",{onClick:$,className:z.btn,children:"é‡ç©"}),b<De.length-1?e.jsx("button",{onClick:W,className:z.btn,children:"ä¸‹ä¸€å…³"}):e.jsx("button",{onClick:()=>w(0),className:z.btn,children:"é‡æ–°å¼€å§‹"})]})]})})]}),e.jsxs("div",{className:z.controls,children:[e.jsx("button",{onClick:I,className:z.controlBtn,disabled:S.length<=1,children:"â†¶ æ’¤é”€"}),e.jsx("button",{onClick:$,className:z.controlBtn,children:"ğŸ”„ é‡ç½®"}),e.jsx("div",{className:z.levelSelector,children:De.map((k,d)=>e.jsx("button",{onClick:()=>w(d),className:`${z.levelBtn} ${d===b?z.active:""}`,children:d+1},d))})]}),e.jsxs("div",{className:z.instructions,children:[e.jsx("p",{children:"æ–¹å‘é”®æˆ–WASDç§»åŠ¨ | æ¨åŠ¨æ‰€æœ‰ç®±å­ğŸ“¦åˆ°ç›®æ ‡ç‚¹ğŸ¯"}),e.jsx("p",{children:"Ctrl+Zæ’¤é”€ | Ré‡ç½®å…³å¡"})]})]})})},ka="_iconWrapper_x76m4_1",Ba="_snakeIcon_x76m4_12",Ca="_snakeBody_x76m4_18",Ia="_snakeHead_x76m4_29",Ta="_grid2048_x76m4_50",$a="_tile_x76m4_61",Ea="_memoryIcon_x76m4_67",Ra="_card_x76m4_73",Pa="_towerIcon_x76m4_103",Ma="_towerTop_x76m4_113",La="_towerMid_x76m4_121",Aa="_towerBase_x76m4_129",Da="_breakoutIcon_x76m4_137",Oa="_bricks_x76m4_146",Ga="_brick_x76m4_146",Fa="_paddle_x76m4_161",Ha="_ball_x76m4_173",Wa="_flappyIcon_x76m4_185",qa="_bird_x76m4_191",Xa="_wing_x76m4_223",za="_match3Icon_x76m4_235",Ya="_gem_x76m4_242",Ka="_jumpIcon_x76m4_261",Ua="_platform_x76m4_267",Va="_jumper_x76m4_279",Ja="_arc_x76m4_301",Za="_fruitIcon_x76m4_313",Qa="_basket_x76m4_319",eo="_fruit_x76m4_313",to="_sokobanIcon_x76m4_375",so="_box_x76m4_381",no="_target_x76m4_413",G={iconWrapper:ka,snakeIcon:Ba,snakeBody:Ca,snakeHead:Ia,grid2048:Ta,tile:$a,memoryIcon:Ea,card:Ra,towerIcon:Pa,towerTop:Ma,towerMid:La,towerBase:Aa,breakoutIcon:Da,bricks:Oa,brick:Ga,paddle:Fa,ball:Ha,flappyIcon:Wa,bird:qa,wing:Xa,match3Icon:za,gem:Ya,jumpIcon:Ka,platform:Ua,jumper:Va,arc:Ja,fruitIcon:Za,basket:Qa,fruit:eo,sokobanIcon:to,box:so,target:no},ro=({gameId:H,color:b})=>{const w=()=>{switch(H){case"snake":return e.jsxs("div",{className:G.snakeIcon,children:[e.jsx("div",{className:G.snakeBody}),e.jsx("div",{className:G.snakeHead})]});case"2048":return e.jsxs("div",{className:G.grid2048,children:[e.jsx("div",{className:G.tile}),e.jsx("div",{className:G.tile}),e.jsx("div",{className:G.tile}),e.jsx("div",{className:G.tile})]});case"memory":return e.jsxs("div",{className:G.memoryIcon,children:[e.jsx("div",{className:G.card}),e.jsx("div",{className:G.card})]});case"tower":return e.jsxs("div",{className:G.towerIcon,children:[e.jsx("div",{className:G.towerTop}),e.jsx("div",{className:G.towerMid}),e.jsx("div",{className:G.towerBase})]});case"breakout":return e.jsxs("div",{className:G.breakoutIcon,children:[e.jsxs("div",{className:G.bricks,children:[e.jsx("div",{className:G.brick}),e.jsx("div",{className:G.brick}),e.jsx("div",{className:G.brick})]}),e.jsx("div",{className:G.paddle}),e.jsx("div",{className:G.ball})]});case"flappy":return e.jsxs("div",{className:G.flappyIcon,children:[e.jsx("div",{className:G.bird}),e.jsx("div",{className:G.wing})]});case"match3":return e.jsxs("div",{className:G.match3Icon,children:[e.jsx("div",{className:G.gem}),e.jsx("div",{className:G.gem}),e.jsx("div",{className:G.gem})]});case"jump":return e.jsxs("div",{className:G.jumpIcon,children:[e.jsx("div",{className:G.platform}),e.jsx("div",{className:G.jumper}),e.jsx("div",{className:G.arc})]});case"fruit":return e.jsxs("div",{className:G.fruitIcon,children:[e.jsx("div",{className:G.basket}),e.jsx("div",{className:G.fruit})]});case"sokoban":return e.jsxs("div",{className:G.sokobanIcon,children:[e.jsx("div",{className:G.box}),e.jsx("div",{className:G.target})]});default:return null}};return e.jsx("div",{className:G.iconWrapper,style:{background:b},children:w()})},ao="_playgroundContainer_1w96b_1",oo="_gamesSection_1w96b_6",co="_gamesGrid_1w96b_10",lo="_gameCard_1w96b_28",io="_cardInner_1w96b_38",uo="_gameIcon_1w96b_56",ho="_gameInfo_1w96b_63",mo="_gameName_1w96b_71",fo="_gameDescription_1w96b_78",_o="_playBtn_1w96b_86",xo="_playIcon_1w96b_109",ue={playgroundContainer:ao,gamesSection:oo,gamesGrid:co,gameCard:lo,cardInner:io,gameIcon:uo,gameInfo:ho,gameName:mo,gameDescription:fo,playBtn:_o,playIcon:xo},po=[{id:"snake",name:"è´ªåƒè›‡",description:"ç»å…¸è´ªåƒè›‡æ¸¸æˆï¼Œæ§åˆ¶è›‡åƒé£Ÿç‰©å¹¶é¿å…æ’å¢™",color:"linear-gradient(135deg, #4ade80 0%, #22c55e 100%)"},{id:"2048",name:"2048",description:"æ»‘åŠ¨æ–¹å—åˆå¹¶ç›¸åŒæ•°å­—ï¼ŒæŒ‘æˆ˜è¾¾åˆ° 2048",color:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},{id:"memory",name:"è®°å¿†ç¿»ç‰Œ",description:"ç¿»å¼€å¡ç‰‡æ‰¾å‡ºæ‰€æœ‰é…å¯¹ï¼ŒæŒ‘æˆ˜ä½ çš„è®°å¿†åŠ›",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"tower",name:"å¡”é˜²",description:"å»ºé€ é˜²å¾¡å¡”æŠµå¾¡æ•Œäººï¼Œé€šè¿‡ä¸‰ä¸ªå…³å¡",color:"linear-gradient(135deg, #1e293b 0%, #334155 100%)"},{id:"breakout",name:"æ‰“ç –å—",description:"ç»å…¸è¡—æœºæ¸¸æˆï¼Œç”¨æŒ¡æ¿æ¥çƒæ‰“ç¢ç –å—",color:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)"},{id:"flappy",name:"Flappy Bird",description:"ç‚¹å‡»å±å¹•æ§åˆ¶å°é¸Ÿé£è¡Œï¼Œèº²é¿ç®¡é“éšœç¢",color:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)"},{id:"match3",name:"è¿è¿çœ‹",description:"æ‰¾åˆ°ç›¸åŒå›¾æ¡ˆé…å¯¹æ¶ˆé™¤ï¼ŒæŒ‘æˆ˜ä½ çš„çœ¼åŠ›",color:"linear-gradient(135deg, #ec4899 0%, #d946ef 100%)"},{id:"jump",name:"è·³ä¸€è·³",description:"é•¿æŒ‰è“„åŠ›è·³è·ƒï¼Œè½åœ¨ä¸­å¿ƒè·å¾—è¿å‡»åŠ åˆ†",color:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)"},{id:"fruit",name:"æ¥æ°´æœ",description:"æ§åˆ¶ç¯®å­æ¥ä½æ°´æœå¾—åˆ†ï¼Œèº²é¿ç‚¸å¼¹",color:"linear-gradient(135deg, #f43f5e 0%, #e11d48 100%)"},{id:"sokoban",name:"æ¨ç®±å­",description:"ç»å…¸ç›Šæ™ºæ¸¸æˆï¼Œæ¨åŠ¨ç®±å­åˆ°ç›®æ ‡ä½ç½®",color:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)"}],wo=({onClose:H})=>{const[b,w]=s.useState(null),x=S=>{w(S)},N=()=>{w(null)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:ue.playgroundContainer,children:e.jsx("div",{className:ue.gamesSection,children:e.jsx("div",{className:ue.gamesGrid,children:po.map(S=>e.jsx("div",{className:ue.gameCard,onClick:()=>x(S.id),children:e.jsxs("div",{className:ue.cardInner,children:[e.jsx("div",{className:ue.gameIcon,children:e.jsx(ro,{gameId:S.id,color:S.color})}),e.jsxs("div",{className:ue.gameInfo,children:[e.jsx("h3",{className:ue.gameName,children:S.name}),e.jsx("p",{className:ue.gameDescription,children:S.description})]}),e.jsxs("button",{className:ue.playBtn,onClick:L=>{L.stopPropagation(),x(S.id)},children:["å¼€å§‹æ¸¸æˆ ",e.jsx("span",{className:ue.playIcon,children:"â–¶"})]})]})},S.id))})})}),b==="snake"&&e.jsx(Dt,{onClose:N}),b==="2048"&&e.jsx(ts,{onClose:N}),b==="memory"&&e.jsx(vs,{onClose:N}),b==="tower"&&e.jsx(tn,{onClose:N}),b==="breakout"&&e.jsx(yn,{onClose:N}),b==="flappy"&&e.jsx(Fn,{onClose:N}),b==="match3"&&e.jsx(lr,{onClose:N}),b==="jump"&&e.jsx(Cr,{onClose:N}),b==="fruit"&&e.jsx(Jr,{onClose:N}),b==="sokoban"&&e.jsx(Sa,{onClose:N})]})};export{wo as MiniGames};
